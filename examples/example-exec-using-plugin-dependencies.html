<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8 from src/site/apt/examples/example-exec-using-plugin-dependencies.apt.vm at 2020-06-09
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Jerome Lacoste" />
    <meta name="Date-Creation-yyyymmdd" content="20081010" />
    <meta name="Date-Revision-yyyymmdd" content="20200609" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Exec Maven Plugin &#x2013; Using plugin dependencies with the exec:java goal</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script type="text/javascript" src="../js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/mojohaus/exec-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../../" id="bannerLeft"><img src="../../images/mojo_logo.png"  alt="MojoHaus"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="../../" title="MojoHaus">MojoHaus</a><span class="divider">/</span></li>
      <li class=""><a href="../../mojo-parent" title="MojoHaus Parent">MojoHaus Parent</a><span class="divider">/</span></li>
      <li class=""><a href="../index.html" title="Exec Maven Plugin">Exec Maven Plugin</a><span class="divider">/</span></li>
    <li class="active ">Using plugin dependencies with the exec:java goal</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2020-06-09</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 3.0.0</li>
      <li class="pull-right"><a href="http://maven.apache.org/" class="externalLink" title="Maven">Maven</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li><a href="../index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="../usage.html" title="Usage"><span class="none"></span>Usage</a></li>
    <li><a href="../faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
      <li class="nav-header">Examples</li>
    <li><a href="../examples/example-exec-for-java-programs.html" title="Running Java programs with exec:exec"><span class="none"></span>Running Java programs with exec:exec</a></li>
    <li><a href="../examples/example-exec-or-java-change-classpath-scope.html" title="Changing the classpath scope when running Java programs"><span class="none"></span>Changing the classpath scope when running Java programs</a></li>
    <li class="active"><a href="#"><span class="none"></span>Using plugin dependencies with exec:exec</a></li>
    <li><a href="../examples/example-exec-using-toolchains.html" title="Using toolchains with exec:exec"><span class="none"></span>Using toolchains with exec:exec</a></li>
    <li><a href="../examples/example-exec-using-executabledependency.html" title="Using executable binary dependencies instead of local executables"><span class="none"></span>Using executable binary dependencies instead of local executables</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="Using_Plugin_Dependencies_Instead_of_Project_Dependencies"></a>Using Plugin Dependencies Instead of Project Dependencies</h2>
<p>Ocassionally it is desirable to execute a Java class without affecting your project's dependencies. For example, if you are using the Maven csharp plugins, adding Java dependencies to your project will upset the csharp compiler. Therefore the Exec Maven Plugin allows you specify dependencies of your executable class as plugin dependencies. Since Maven takes plugin dependencies into consideration when determining build order for a multi-module project your build order should automatically be appropriately adjusted (I think).</p>
<p>If you specify your executable class dependencies as plugin dependencies, you may end up with extraneous undesirable dependences required by the Exec Maven Plugin but not by your executable class. If this causes a problem, or if you simply prefer to avoid the extraneous dependencies you can use the <tt>&lt;executableDependency&gt;</tt> configuration element. The <tt>&lt;executableDependency&gt;</tt> element allows you to identify the particular artifact in the list of the plugin's dependencies which contains your executable class. The Exec Maven Plugin will ensure that only the selected artifact identified by the <tt>&lt;executableDependency&gt;</tt> configuration element and the selected artifact's transitive dependencies are used when the <tt>mainClass</tt> is executed.</p>
<p>Although the use of the <tt>&lt;executableDependency&gt;</tt> configuration element will prevent the Java class being executed from seeing extraneous classes, the Exec Maven Plugin itself will still see all of the plugin dependencies. For example if your executable Java class has a dependency upon a brand new version of <tt>org.codehaus.plexus:plexus-utils</tt> and you specify this as a plugin dependency then the Exec Maven Plugin, which already has a transitive dependency upon <tt>org.codehaus.plexus:plexus-utils</tt>, will end up using the brand new version you explictly supplied. It is unlikely you will encounter a situation where this will be a problem, but hopefully this knowledge will help you diagnose such a problem if it occurs. None of this is relevant unless you're using the plugin dependencies for your executable (<tt>includePluginDependencies=true</tt>).</p>
<div class="section">
<h3><a name="Example_POM_Configuration_using_Plugin_Dependencies"></a>Example POM Configuration using Plugin Dependencies</h3>
<div>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            ...
            &lt;goals&gt;
              &lt;goal&gt;java&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;includeProjectDependencies&gt;false&lt;/includeProjectDependencies&gt;
          &lt;includePluginDependencies&gt;true&lt;/includePluginDependencies&gt;
          &lt;executableDependency&gt;
            &lt;groupId&gt;com.example.myproject&lt;/groupId&gt;
            &lt;artifactId&gt;mylib&lt;/artifactId&gt;
          &lt;/executableDependency&gt;
          &lt;mainClass&gt;com.example.Main&lt;/mainClass&gt;
          &lt;arguments&gt;
            &lt;argument&gt;argument1&lt;/argument&gt;
            ...
          &lt;/arguments&gt;
          &lt;systemProperties&gt;
            &lt;systemProperty&gt;
              &lt;key&gt;myproperty&lt;/key&gt;
              &lt;value&gt;myvalue&lt;/value&gt;
            &lt;/systemProperty&gt;
            ...
          &lt;/systemProperties&gt;
        &lt;/configuration&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;com.example.myproject&lt;/groupId&gt;
            &lt;artifactId&gt;mylib&lt;/artifactId&gt;
            &lt;version&gt;1.3.5&lt;/version&gt;
            &lt;type&gt;jar&lt;/type&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
   ...
&lt;/project&gt;</pre></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2005&#x2013;2020
<a href="http://www.mojohaus.org">MojoHaus</a>.
All rights reserved.</p>
        </div>
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
  </body>
</html>